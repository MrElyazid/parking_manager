<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Region?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.DatePicker?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.GridPane?>
<?import javafx.scene.layout.ColumnConstraints?>

<BorderPane fx:id="mainBorderPane" xmlns="http://javafx.com/javafx/17" xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="com.smartparking.controller.MainController"
            prefHeight="700.0" prefWidth="1000.0">

    <!-- Top Navigation Bar -->
    <top>
        <HBox styleClass="nav-bar" alignment="CENTER_LEFT" prefHeight="60" spacing="10">
            <padding>
                <Insets left="20" right="20"/>
            </padding>
            <Label text="Smart Parking System" styleClass="title-label"/>
            <Region HBox.hgrow="ALWAYS" /> <!-- Spacer -->
            <!-- User specific buttons - initially hidden -->
            <Button fx:id="historyButton" text="My History" onAction="#handleShowHistory" managed="false" visible="false" style="-fx-background-color: #6c757d;"/>
            <Button fx:id="logoutButton" text="Logout" onAction="#handleLogout" managed="false" visible="false" style="-fx-background-color: #ffc107; -fx-text-fill: black;"/>
            <!-- Admin button -->
            <Button fx:id="adminLoginButton" text="Admin Login" onAction="#handleAdminLogin" styleClass="admin-button"/>
        </HBox>
    </top>

    <!-- Center Content Area: Will be populated dynamically -->
    <center>
        <!-- The VBox containing the old reservation form is removed. -->
        <!-- The loadView method in MainController will now set the center content. -->
        <!-- We keep the fx:id on the VBox below in case it's needed for hiding/showing -->
         <VBox fx:id="centerContentVBox" alignment="CENTER" visible="false" managed="false">
             <!-- This VBox is now initially empty and hidden -->
         </VBox>
    </center>

    <!-- Bottom Status Bar -->
    <bottom>
         <Label fx:id="statusLabel" text="Status: Ready" styleClass="status-label" />
    </bottom>

</BorderPane>
